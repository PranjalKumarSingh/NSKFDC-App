
//report history ui grid
var app = angular.module('application', ['ngRoute','ui.grid',
                                      'ui.grid.edit',
                                      'ui.grid.cellNav',
                                      'ui.grid.autoResize',
                                      'ui.bootstrap',
                                      'ui.grid.pagination']);






     app.controller('reportsController',function($scope, $http) {
    $scope.info = {
        enableGridMenus: false,
        enableSorting: false,
        enableFiltering: false,
        enableCellEdit: false,
        enableColumnMenus: false,
        enableHorizontalScrollbar: 0,
        enableVerticalScrollbar: 0,
        paginationPageSizes: [5, 10, 20, 30],
        paginationPageSize: 10,
        useExternalPagination: true,

        columnDefs: [
            {
            	name: 'batchid', 
                displayName: 'Batch Id'
            },
            {
            	name: 'type',
            	displayName: 'Type'
            },
            {
                name: 'generatedOn',
                displayName: 'Generated On'
            },
            {
                name: 'generatedBy',
                displayName: 'Generated By'
            },
            {
                name: 'viewDocument',
                displayName: 'View Document'
             }
            
        ]
    };
    
    $http.get('/')
    .then(function (response) {
    	 $scope.info.data= response.data;

    });
    
    
    

    $scope.searchReport = {
        enableGridMenus: false,
        enableSorting: false,
       enableFiltering: false,
       enableCellEdit: false,
       enableColumnMenus: false,
                   enableHorizontalScrollbar: 0,
      enableVerticalScrollbar: 0,
       paginationPageSizes: [5, 10, 20, 30],
      paginationPageSize: 10,
      useExternalPagination: true,

       columnDefs: [
           {
            	name: 'batchid', 
                displayName: 'Batch Id'
            },
            {
            	name: 'type',
           	displayName: 'Report Type'
           },
           {
                name: 'generatedOn',
                displayName: 'Generated On'
            },
            {
                name: 'generatedBy',
                displayName: 'Generated By'
            },
            {
                name: 'viewReport',
               displayName: 'View Report'
             }
            
        ]
    };
    


  	 
  	$scope.onSearch = function () {
  		$http.get('/getReports?batchId='+$scope.batchid)
  		 .then(function (response) {
  	 $scope.searchReport.data= response.data;
 
  		});
  	}
  	 
  	 
});
    
  
    



    





      
    
   
 
     

     
    
    
    