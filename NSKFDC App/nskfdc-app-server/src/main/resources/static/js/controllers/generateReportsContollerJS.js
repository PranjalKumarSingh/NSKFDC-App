var tp = angular.module('app');

tp.controller('reportController',function($scope, $http) {
	
	
	var app = angular.module('application', ['ngRoute','ui.grid',
	                                      'ui.grid.edit',
	                                      'ui.grid.cellNav',
	                                      'ui.grid.autoResize',
	                                      'ui.bootstrap',
	                                      'ui.grid.pagination']);

 
	
	 	    $scope.searchReport = {
	 	        enableGridMenus: false,
	 	        enableSorting: false,
	 	       enableFiltering: false,
	 	       enableCellEdit: false,
	 	       enableColumnMenus: false,
	 	                   enableHorizontalScrollbar: 0,
	 	      enableVerticalScrollbar: 0,
	 	       paginationPageSizes: [5, 10, 20, 30],
	 	      paginationPageSize: 10,
	 	      useExternalPagination: true,

	 	       columnDefs: [
	 	           {
	 	            	name: 'batchid', 
	 	                displayName: 'Batch Id'
	 	            },
	 	            {
	 	            	name: 'type',
	 	           	displayName: 'Report Type'
	 	           },
	 	           {
	 	                name: 'generatedOn',
	 	                displayName: 'Generated On'
	 	            },
	 	            {
	 	                name: 'generatedBy',
	 	                displayName: 'Generated By'
	 	            },
	 	            {
	 	                name: 'viewReport',
	 	               displayName: 'View Report'
	 	             }
	 	            
	 	        ]
	 	    };
	 	    
	 	   

	 	  	 
	 	  	$scope.onSearch = function (batchId) {
	 	  		var batch=batchId;
	 	  		$http.get('/getReports?batchId='+batch)
	 	  		 .then(function (response) {
	 	  	 $scope.searchReport.data= response.data;
	 	 
	 	  		});
	 	  	}
	 	  	
	 	  
});
	 	  	 
	 
	 	    
	 	  
	  
	          
	     

